<!DOCTYPE html>
<html lang="en" data-theme="light" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Sawaed | Events Log</title>
    <meta name="description" content="Sawaed Engineering Initiative - Upcoming and Past Events Log.">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Roboto+Mono:wght@400;500;700&family=Teko:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- 1. CSS VARIABLES (RESTORED) --- */
        :root {
            --primary-red: #9A1F1F;       
            --engineering-slate: #2c3e50; 
            --bg-body: #f4f6f8;           
            --text-main: #0f172a;         
            --text-muted: #64748b;
            --card-bg: #ffffff;
            --card-border: #cbd5e1;       
            --border-radius: 4px;         
            --grid-color: rgba(44, 62, 80, 0.05);
            --cursor-color: #9A1F1F;
            --canvas-node: rgba(44, 62, 80, 0.6);
            --canvas-line: rgba(44, 62, 80, 0.15);
            --canvas-display: block;
        }

        html[data-theme="dark"] {
            --bg-body: #0b1120;           
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --card-bg: #1e293b;
            --card-border: #334155;
            --grid-color: rgba(255,255,255,0.03);
            --cursor-color: #ffffff;
            --canvas-node: rgba(255, 255, 255, 0.4);
            --canvas-line: rgba(255, 255, 255, 0.08);
        }

        html.blind-mode {
            --primary-red: #000 !important;
            --bg-body: #fff !important;
            --text-main: #000 !important;
            --card-bg: #fff !important;
            --card-border: #000 !important;
            --grid-color: transparent !important;
            --canvas-display: none;
        }

        /* --- GLOBAL RESET (RESTORED GRID BACKGROUND) --- */
        html, body {
            margin: 0; padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            overflow-x: hidden;
            background-image: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 30px 30px;
        }
        * { box-sizing: border-box; }

        h1, h2, h3, h4 { font-family: 'Teko', sans-serif; text-transform: uppercase; letter-spacing: 0.5px; }
        
        #scroll-progress { position: fixed; top: 0; left: 0; height: 3px; width: 0%; background: var(--primary-red); z-index: 2000; will-change: width; }

        @media (hover: hover) {
            * { cursor: none !important; }
            #cursor-dot {
                position: fixed; top: 0; left: 0; width: 8px; height: 8px; 
                background-color: var(--cursor-color);
                pointer-events: none; z-index: 999999;
                transform: translate(-50%, -50%);
                will-change: transform; 
            }
        }

        #engineering-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; pointer-events: none; }

        /* --- NAVIGATION --- */
        nav {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem 5%; position: fixed; top: 0; width: 100%; z-index: 1000;
            background: rgba(255,255,255,0.8); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--card-border);
        }
        html[data-theme="dark"] nav { background: rgba(11, 17, 32, 0.8); }
        .logo img { height: 40px; }

        .nav-menu { display: flex; gap: 25px; align-items: center; }
        .nav-link { text-decoration: none; color: var(--text-main); font-family: 'Roboto Mono'; font-weight: 600; font-size: 0.8rem; text-transform: uppercase; }
        .join-btn { background: var(--primary-red); color: #fff; padding: 6px 16px; border-radius: var(--border-radius); border: 1px solid var(--primary-red); }

        .page-header {
            min-height: 45vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            padding: 8rem 5% 2rem; position: relative;
        }
        .page-header h1 { font-size: clamp(3rem, 8vw, 6rem); margin-bottom: 1.5rem; }
        .hero-line { width: 2px; height: 40px; background: var(--primary-red); margin-bottom: 20px; }

        /* --- EVENTS (RESTORED LAYOUT) --- */
        section { padding: 4rem 5%; max-width: 1400px; margin: 0 auto; }
        .tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 50px; }
        .tab-btn {
            background: transparent; border: none; border-bottom: 2px solid var(--card-border);
            padding: 10px 20px; cursor: pointer; color: var(--text-muted); font-family: 'Roboto Mono';
        }
        .tab-btn.active { color: var(--primary-red); border-bottom-color: var(--primary-red); }

        .event-list { display: none; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 30px; }
        .event-list.active { display: grid; }

        .event-card { background: var(--card-bg); border: 1px solid var(--card-border); overflow: hidden; display: flex; flex-direction: column; transition: transform 0.3s; }
        .event-card:hover { transform: translateY(-5px); }
        .event-header { background: var(--bg-body); border-bottom: 1px solid var(--card-border); padding: 12px 20px; display: flex; justify-content: space-between; font-size: 0.85rem; }
        .event-content-wrapper { display: flex; padding: 20px; gap: 20px; }
        .event-thumb-container { width: 140px; height: 140px; flex-shrink: 0; border: 1px solid var(--card-border); overflow: hidden; }
        .event-thumb-container img { width: 100%; height: 100%; object-fit: cover; }
        .event-title { font-size: 1.4rem; margin: 0 0 8px 0; }
        
        footer { border-top: 1px solid var(--card-border); padding: 4rem 5%; text-align: center; margin-top: 2rem; }
    </style>
</head>
<body>

    <div id="scroll-progress"></div>
    <div id="cursor-dot"></div>
    <canvas id="engineering-canvas"></canvas>

    <nav>
        <div class="logo">
            <img src="logo.png">
        </div>
        <div class="nav-menu">
            <a href="index.html" class="nav-link">Home</a>
            <a href="http://www.sawaed-om.org/join-us" class="nav-link join-btn">Join Us</a>
        </div>
        <div class="nav-controls">
            <button class="tab-btn" style="border:1px solid var(--card-border); border-radius:4px;" onclick="toggleTheme()">Theme</button>
        </div>
    </nav>

    <header class="page-header">
        <div class="hero-line"></div>
        <h1 class="gsap-hero">EVENTS ARCHIVE</h1>
        <p class="gsap-hero">BUILDING SKILLS. ENHANCING KNOWLEDGE. STRENGTHENING CONNECTIONS.</p>
    </header>

    <section id="events-main">
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('past', this)">Past Events</button>
            <button class="tab-btn" onclick="openTab('upcoming', this)">Upcoming Events</button>
        </div>

        <div id="past" class="event-list active">
            <div class="event-card">
                <div class="event-header"><span>26 Oct 2025</span><span style="color:var(--primary-red)">Virtual</span></div>
                <div class="event-content-wrapper">
                    <div class="event-thumb-container"><img src="home_photos/event_icon_01.jpg"></div>
                    <div class="event-body">
                        <h4 class="event-title">Sawaed Introduction</h4>
                        <p style="font-size:0.9rem; color:var(--text-muted)">Intro to Sawaed Vision and Pillar Recruitment.</p>
                    </div>
                </div>
            </div>

            <div class="event-card">
                <div class="event-header"><span>16 Nov 2025</span><span style="color:var(--primary-red)">Virtual</span></div>
                <div class="event-content-wrapper">
                    <div class="event-thumb-container"><img src="home_photos/event_icon_02.jpg"></div>
                    <div class="event-body">
                        <h4 class="event-title">The First Debate</h4>
                        <p style="font-size:0.9rem; color:var(--text-muted)">AI vs Engineers: Collab with UK Debate Soc.</p>
                    </div>
                </div>
            </div>

            <div class="event-card">
                <div class="event-header"><span>22 Nov 2025</span><span style="color:var(--primary-red)">In Person</span></div>
                <div class="event-content-wrapper">
                    <div class="event-thumb-container"><img src="home_photos/event_icon_03.jpg"></div>
                    <div class="event-body">
                        <h4 class="event-title">National Omani Day</h4>
                        <p style="font-size:0.9rem; color:var(--text-muted)">Sustainability chat and Omani embassy collaboration.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="upcoming" class="event-list">
            <div class="event-card">
                <div class="event-header"><span>Q1 2026</span></div>
                <div class="event-content-wrapper">
                    <div class="event-thumb-container"><img src="upcoming_placeholder.jpg"></div>
                    <div class="event-body">
                        <h4 class="event-title">Spring Tech Workshop</h4>
                        <p style="color:var(--text-muted)">Details coming soon.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p style="font-family: 'Roboto Mono'; font-size: 0.8rem;">&copy; 2026 Sawaed Initiative. All Rights Reserved.</p>
    </footer>

    <script>
        // PERFORMANCE FIX: Cache styles outside the animation loop
        let cachedNodeColor, cachedLineColor, isCanvasVisible;
        function updateStyleCache() {
            const styles = getComputedStyle(document.body);
            cachedNodeColor = styles.getPropertyValue('--canvas-node').trim();
            cachedLineColor = styles.getPropertyValue('--canvas-line').trim();
            isCanvasVisible = styles.getPropertyValue('--canvas-display').trim() !== 'none';
        }

        const canvas = document.getElementById('engineering-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, nodes = [];
        const mouse = { x: null, y: null };

        function resize() {
            w = canvas.width = window.innerWidth;
            h = canvas.height = window.innerHeight;
            nodes = [];
            const count = w < 768 ? 30 : 60;
            for(let i=0; i<count; i++) {
                nodes.push({ x: Math.random()*w, y: Math.random()*h, vx: (Math.random()-0.5)*0.7, vy: (Math.random()-0.5)*0.7, size: Math.random()*3+2 });
            }
        }

        function animate() {
            if (!isCanvasVisible) { requestAnimationFrame(animate); return; }
            ctx.clearRect(0, 0, w, h);
            ctx.fillStyle = cachedNodeColor;
            
            for(let i=0; i<nodes.length; i++) {
                let n = nodes[i];
                n.x += n.vx; n.y += n.vy;
                if(n.x<0 || n.x>w) n.vx*=-1;
                if(n.y<0 || n.y>h) n.vy*=-1;
                ctx.fillRect(n.x, n.y, n.size, n.size);

                for(let j=i+1; j<nodes.length; j++) {
                    let n2 = nodes[j];
                    let dx = n.x - n2.x; let dy = n.y - n2.y;
                    let distSq = dx*dx + dy*dy; // Faster than Math.sqrt
                    if(distSq < 10000) {
                        ctx.beginPath(); ctx.strokeStyle = cachedLineColor; ctx.lineWidth = 0.2;
                        ctx.moveTo(n.x, n.y); ctx.lineTo(n2.x, n2.y); ctx.stroke();
                    }
                }
            }
            requestAnimationFrame(animate);
        }

        function toggleTheme() {
            const html = document.documentElement;
            html.setAttribute('data-theme', html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
            updateStyleCache();
        }

        function openTab(id, btn) {
            document.querySelectorAll('.event-list').forEach(l => l.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            btn.classList.add('active');
        }

        window.addEventListener('scroll', () => {
            const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
            document.getElementById('scroll-progress').style.width = scrolled + '%';
        });

        window.addEventListener('mousemove', (e) => {
            gsap.to('#cursor-dot', { x: e.clientX, y: e.clientY, duration: 0.1 });
        });

        window.addEventListener('resize', resize);
        updateStyleCache();
        resize();
        animate();
        gsap.from(".gsap-hero", { y: 30, opacity: 0, stagger: 0.2, duration: 1 });
    </script>
</body>
</html>